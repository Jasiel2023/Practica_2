import {
  require_react_dom
} from "./chunk-UJKGNB4G.js";
import {
  require_react
} from "./chunk-IF5A3MEL.js";
import {
  __toESM
} from "./chunk-547O27LD.js";

// node_modules/@lit/react/development/create-component.js
var NODE_MODE = false;
var DEV_MODE = true;
var reservedReactProperties = /* @__PURE__ */ new Set([
  "children",
  "localName",
  "ref",
  "style",
  "className"
]);
var listenedEvents = /* @__PURE__ */ new WeakMap();
var addOrUpdateEventListener = (node, event, listener) => {
  let events = listenedEvents.get(node);
  if (events === void 0) {
    listenedEvents.set(node, events = /* @__PURE__ */ new Map());
  }
  let handler = events.get(event);
  if (listener !== void 0) {
    if (handler === void 0) {
      events.set(event, handler = { handleEvent: listener });
      node.addEventListener(event, handler);
    } else {
      handler.handleEvent = listener;
    }
  } else if (handler !== void 0) {
    events.delete(event);
    node.removeEventListener(event, handler);
  }
};
var setProperty = (node, name, value, old, events) => {
  const event = events == null ? void 0 : events[name];
  if (event !== void 0) {
    if (value !== old) {
      addOrUpdateEventListener(node, event, value);
    }
    return;
  }
  node[name] = value;
  if ((value === void 0 || value === null) && name in HTMLElement.prototype) {
    node.removeAttribute(name);
  }
};
var createComponent = ({ react: React, tagName, elementClass, events, displayName }) => {
  const eventProps = new Set(Object.keys(events ?? {}));
  if (DEV_MODE && !NODE_MODE) {
    for (const p3 of reservedReactProperties) {
      if (p3 in elementClass.prototype && !(p3 in HTMLElement.prototype)) {
        console.warn(`${tagName} contains property ${p3} which is a React reserved property. It will be used by React and not set on the element.`);
      }
    }
  }
  const ReactComponent = React.forwardRef((props, ref) => {
    const prevElemPropsRef = React.useRef(/* @__PURE__ */ new Map());
    const elementRef = React.useRef(null);
    const reactProps = {};
    const elementProps = {};
    for (const [k, v] of Object.entries(props)) {
      if (reservedReactProperties.has(k)) {
        reactProps[k === "className" ? "class" : k] = v;
        continue;
      }
      if (eventProps.has(k) || k in elementClass.prototype) {
        elementProps[k] = v;
        continue;
      }
      reactProps[k] = v;
    }
    if (!NODE_MODE) {
      React.useLayoutEffect(() => {
        if (elementRef.current === null) {
          return;
        }
        const newElemProps = /* @__PURE__ */ new Map();
        for (const key in elementProps) {
          setProperty(elementRef.current, key, props[key], prevElemPropsRef.current.get(key), events);
          prevElemPropsRef.current.delete(key);
          newElemProps.set(key, props[key]);
        }
        for (const [key, value] of prevElemPropsRef.current) {
          setProperty(elementRef.current, key, void 0, value, events);
        }
        prevElemPropsRef.current = newElemProps;
      });
      React.useLayoutEffect(() => {
        var _a2;
        (_a2 = elementRef.current) == null ? void 0 : _a2.removeAttribute("defer-hydration");
      }, []);
    }
    if (NODE_MODE) {
      if ((React.createElement.name === "litPatchedCreateElement" || globalThis.litSsrReactEnabled) && Object.keys(elementProps).length) {
        reactProps["_$litProps$"] = elementProps;
      }
    } else {
      reactProps["suppressHydrationWarning"] = true;
    }
    return React.createElement(tagName, {
      ...reactProps,
      ref: React.useCallback((node) => {
        elementRef.current = node;
        if (typeof ref === "function") {
          ref(node);
        } else if (ref !== null) {
          ref.current = node;
        }
      }, [ref])
    });
  });
  ReactComponent.displayName = displayName ?? elementClass.name;
  return ReactComponent;
};

// node_modules/@vaadin/react-components/utils/createComponent.js
var _a;
window.Vaadin ?? (window.Vaadin = {}), (_a = window.Vaadin).registrations ?? (_a.registrations = []), window.Vaadin.registrations.push({ is: "@vaadin/react-components", version: "24.7.3" });
function s(e) {
  const { elementClass: t2 } = e;
  return createComponent("_properties" in t2 ? { ...e, elementClass: { name: t2.name, prototype: { ...t2._properties, hidden: Boolean } } } : e);
}

// node_modules/@vaadin/react-components/renderers/useRenderer.js
var import_react2 = __toESM(require_react(), 1);
var import_react_dom2 = __toESM(require_react_dom(), 1);

// node_modules/@vaadin/react-components/utils/flushMicrotask.js
var import_react_dom = __toESM(require_react_dom(), 1);
var c = [];
function i(o) {
  c.push(o), c.length === 1 && queueMicrotask(() => {
    (0, import_react_dom.flushSync)(() => {
      c.splice(0).forEach((u3) => u3());
    });
  });
}

// node_modules/@vaadin/react-components/renderers/useRenderer.js
var R = /* @__PURE__ */ new Map();
function u(r, [t2, ...n2]) {
  return new Map(r).set(t2, n2);
}
function y(r, t2, n2) {
  const [s2, o] = (0, import_react2.useReducer)(u, R), a = (0, import_react2.useCallback)((...e) => {
    (n2 == null ? void 0 : n2.renderMode) === "microtask" ? i(() => o(e)) : (n2 == null ? void 0 : n2.renderMode) === "sync" ? (0, import_react_dom2.flushSync)(() => o(e)) : o(e);
  }, []);
  return r ? [Array.from(s2.entries()).filter(([e, d]) => {
    var _a2;
    return ((_a2 = n2 == null ? void 0 : n2.shouldRenderPortal) == null ? void 0 : _a2.call(n2, e, ...d)) ?? true;
  }).map(([e, d]) => (0, import_react_dom2.createPortal)(t2 ? (0, import_react2.createElement)(r, t2(d)) : r, e)), a] : [];
}

// node_modules/@vaadin/react-components/renderers/useSimpleRenderer.js
function t([e]) {
  return { original: e };
}
function p2(e, r) {
  return y(e, t, r);
}

// node_modules/@vaadin/react-components/renderers/useSimpleOrChildrenRenderer.js
function u2(p3, r, o) {
  let n2, e, t2 = false;
  typeof r == "function" ? (n2 = void 0, e = r, t2 = true) : (n2 = r, e = p3, t2 = !!e);
  const d = y(n2, void 0, o), R2 = p2(e, o);
  return t2 ? R2 : d;
}

export {
  s,
  y,
  u2 as u
};
/*! Bundled license information:

@lit/react/development/create-component.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/react/development/index.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=chunk-OIID5TBA.js.map
